<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Viewport meta tag for responsiveness -->
        <title>Fotox</title>
        <link rel="icon" href=".\asset\img\logo.png">
        <link rel="stylesheet" href="fotox.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="icon" href="./asset/img/title.png" type="image/icon type">
        <link href="https://fonts.googleapis.com/css2?family=Lustria&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css" integrity="sha512-5Hs3dF2AEPkpNAR7UiOHba+lRSJNeM2ECkwxUIxC1Q/FLycGTbNapWXB4tP889k5T5Ju8fs4b1P5z/iB4nMfSQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link href='https://fonts.googleapis.com/css?family=Noto Rashi Hebrew' rel='stylesheet'>
        <link href="https://fonts.cdnfonts.com/css/source-sans-pro" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <link href="https://fonts.cdnfonts.com/css/averia-serif-libre" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Abhaya+Libre:wght@400;500;600;700;800&family=DM+Serif+Display:ital@0;1&family=DM+Serif+Text:ital@0;1&display=swap" rel="stylesheet">


        
    </head>

    <header>
        <div class="header d-flex justify-content-between align-items-center mx-auto">
            <div class="header-image">
                <a href="/">
                    <!--NOTE: change source -->
                    <img href="fotox" src=".\asset\img\title.png" alt="Logo" class="img-fluid" />
                </a>
            </div>
            <div class="header-buttons d-flex gap-3 justify-content-end">
                <!-- NOTE: link to the log in page -->
                <button type="submit" class="btn" id="likes_button" onclick="window.location.href = 'likes';">Likes</button>
                <button type="submit" class="btn" id="logout_button">Log out</button>
            </div>
        </div>
    </header>
    
    <body>
        <div class="container-fluid align-items-center mx-auto"> 
            <div class="title-text-page row justify-content-center">
                <div id="title-text" class="col-8 justify-content-center">
                    <h2 id="'h2text">Generate your "Foto" ðŸ”®</h2>
                </div>
            </div>
            <div class="box row align-items-center ">
                <div class="input-box col-lg-5 col-md-9 col-sm-9 col-9 d-flex justify-content-center order-lg-1 order-2 mb-3 offset-1">
                    <form action="" method="POST" id="per_form">
                        <div class="input-box-container">
                            <div class="dropdown">
                            <button type="button" class="btn" id="btn-img">Person<i class="fa-solid fa-caret-down fa-s" style="color: #fff;"></i></button>
                            <!--NOTE ADJUST NUMBER OF PHOTOS BASED ON HOW MANY ARE THERE IN THE DATABASE--> 
                                <div class="dropdown-content">
                                    <!-- <a href="#">name</a> -->
                                    <a href="#">create new</a>
                                </div>
                            </div>

                            <input type="text" name="per_prompt" id="training-name" placeholder="What do you want to generate?" required>
                            <button type="submit" class="btn" id="per_crystal"><i class="fa-solid fa-wand-magic-sparkles"></i></button>
                                
                        </div> 

                        <div class="upload-box-container">
                            <button type="button" class="btn" id="btn-upload">upload pics</button> 
                            <button type="button" class="btn" id="upload-icon"><i class="fa-solid fa-cloud-arrow-up fa-2xs" style="color: #3b2968;"></i></button>
                        </div>
                        
                    </form> 
                    <!-- Splitting the form into two rather than one-->
                    <form method="POST" id="img_form">
                    <div class="input-box-container">
                        <button type="button" class="btn" id="btn-img">Imaginary</button>
                        <input type="text" name="img_prompt" placeholder="What do you want to generate?" required>
                        <button type="submit" class="btn" id="img_crystal"><i class="fa-solid fa-wand-magic-sparkles"></i></button>
                    </div>   
                    </form>                     
                </div>
                <div class="box-image col-lg-6 col-12 d-flex justify-content-center order-lg-2">
                <!--NOTE: change source -->
                    <img src=".\asset\img\Fox.png"  alt="Image of an AI generated fox" id="main-image"class="animate__animated animate__fadeInRight ">
                </div>
            </div>
        </div>
            <!-- Link the JS file -->
            <script src="script.js" type="module"></script>
            <script>
                document.getElementById("logout_button").addEventListener("click", async function (e) {
        e.preventDefault(); // Prevent the default form submission
        try {
            const response = await fetch("/logout", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                "CSRF-Token": Cookies.get("XSRF-TOKEN"), // Append CSRF Token
            },
            });

            if (!response.ok) {
            const errorData = await response.json();
            alert(`Error: ${errorData.error}`);   
            } else {
            alert(`Success: Logged out`);
            window.location.href='/';

        }
        } catch (error) {
            alert("An error occurred while logging out.");
        }
    });</script>
            <script src="fotox.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/js-cookie@3/dist/js.cookie.min.js"></script>
            <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
        
    </body>
</html>
